version: 2

build:
  os: ubuntu-20.04
  tools:
    python: "miniconda3-4.7" # "mambaforge-4.10"
  jobs:
    post_install:
    - python -m pip install -e .
    - python -c "import xbitinfo as xb; xb.install()"
    - julia -e "using Pkg; Pkg.status()"
    - julia -e 'using Pkg; Pkg.add(Pkg.PackageSpec(name="BitInformation", url="https://github.com/milankl/BitInformation.jl", rev="v0.6.0"))'
    - julia -e 'using Pkg; Pkg.add("BitInformation")'
    # - mamba install xbitinfo -y
    - julia -e "using Pkg; Pkg.status()"
    - conda env list
    - conda list
    - which python
    - which conda
    - python -m pip install -e .
    - python -c "import xbitinfo as xb; xb.install()"
    - julia -e "using Pkg; Pkg.status()"


conda:
  environment: docs/environment.yml

sphinx:
  fail_on_warning: false

formats: []
